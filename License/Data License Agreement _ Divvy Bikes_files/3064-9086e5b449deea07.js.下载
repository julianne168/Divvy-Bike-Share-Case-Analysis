"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3064],{97850:function(e,t,n){n.d(t,{s9:function(){return c}});var r=n(46532),a=n(15741),i=n(97960),l=n(61254),o=n(10794);let s=(e,t)=>e.reduce((e,t)=>(t.name&&(t.componentType===o.re.INPUT_TEXT&&t.type===o.n$.PHONE?e[t.name]=(0,a.jc)(t.value):e[t.name]=t.value),e),t),c="/api/pagelauncher/form_submission";t.ZP=({inputs:e,pardotFormHandler:t,formType:n,formEntryId:a})=>{let o=(0,i.JB)(),u=new l.ZP,d=s(e,o);return r.ZP.post(c,{data:{url:t,formType:n,formEntryId:a,data:{browser_session_id:u.browserSessionId,Source_Page_URL:`${window.location.origin}${window.location.pathname}`,...d}},snakeCaseRequest:!1})}},53064:function(e,t,n){n.d(t,{Z:function(){return ei}});var r=n(85893),a=n(67294),i=n(19521),l=n(39685),o=n(26793),s=n(46983),c=n(55373),u=n(78962),d=n(10794),m=n(39918);let h=i.ZP.div.withConfig({componentId:"sc-ce44ded5-0"})(["width:100%;"]),p=({children:e,errorMessage:t,showError:n})=>(0,r.jsxs)(h,{children:[e,n&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.QIJ,{vertical:!0,unit:"half"}),(0,r.jsx)(l.ua5,{sentiment:"negative",children:t})]})]}),x=(e,t)=>e&&t?e.trim().endsWith("*")?e:`${e}*`:e,f=e=>{switch(e.componentType){case d.re.INPUT_CHECKBOX:return{...e,value:!1,componentType:e.componentType,$touched:!1,$valid:!0,error:null};case d.re.INPUT_MULTIPLE_CHECKBOX:return{...e,value:e.options.split("\n").map(()=>!1),componentType:e.componentType,$touched:!1,$valid:!0,error:null};case d.re.INPUT_DROPDOWN:return{...e,value:"",componentType:e.componentType,$touched:!1,$valid:!0,error:null};case d.re.INPUT_HIDDEN:return{...e,value:e.value,componentType:e.componentType,$touched:!1,$valid:!0,error:null};case d.re.INPUT_TEXT:default:return{...e,value:"",componentType:e.componentType,$touched:!1,$valid:!0,error:null}}};var v=({options:e,header:t,placeholder:n,name:i,textColor:o,isRequired:s,$valid:c,$touched:u,id:d,handleChange:h,value:f})=>{let{customFormMessages:v}=(0,a.useContext)(m.F),{dropdownInputErrorMessage:g}=v,T=(0,a.useMemo)(()=>e.split("\n").map((e,t)=>({value:t+1,label:e})),[e]),j=T.findIndex(e=>e.label===f);return(0,r.jsxs)(r.Fragment,{children:[t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.aXT,{tagName:"h3",textStyle:"titleW2",color:o,children:t}),(0,r.jsx)(l.QIJ,{vertical:!0,unit:"one"})]}),(0,r.jsx)(p,{showError:!c&&u,errorMessage:g,children:(0,r.jsx)(l.YeK,{placeholder:x(n,s),name:i,options:T,onSelectItem:e=>{e&&h(d,e.label)},selectedIndex:j,fullWidth:!0,brandThemed:!0,isInvalid:!c&&u})}),(0,r.jsx)(l.QIJ,{vertical:!0,unit:"one"})]})};let g=i.ZP.div.withConfig({componentId:"sc-80e0971b-0"})(["input{background-color:",";}"],l.k1m.alwaysWhite.color);var T=n(4706);let j=T._t("gu1qai",""),I=T._t("1564bgj",""),b=T._t("ec4ua4",""),y=T._t("rmx63y",""),w=T._t("55uuee",""),P=e=>{switch(e){case"required":return j;case"invalidEmail":return I;case"invalidPhone":return b;default:return y}};var C=({label:e,name:t,$touched:n,$valid:a,error:i,id:o,handleChange:s,value:c})=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p,{showError:n&&!a,errorMessage:P(i).t(),children:(0,r.jsx)(g,{children:(0,r.jsx)(l.L9D,{checked:c,label:e,name:t,onChange:e=>{s(o,e.target.checked)},brandThemed:!0})})}),(0,r.jsx)(l.QIJ,{vertical:!0,unit:"one"})]}),E=({options:e,header:t,subheader:n,name:i,textColor:s,isRequired:c,$valid:u,$touched:d,handleChange:h,id:p,value:f})=>{let{customFormMessages:v}=(0,a.useContext)(m.F),{multiCheckboxInputErrorMessage:T}=v,j=(0,a.useMemo)(()=>e.split("\n"),[e]),I=(e,t)=>{let n=e.target.checked;h(p,f.map((e,r)=>r===t?n:e))};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.aXT,{tagName:"h3",textStyle:"titleW2",color:s,children:x(t,c)}),(0,r.jsx)(l.QIJ,{vertical:!0,unit:"one"}),n&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.Z,{content:n,textColor:s}),(0,r.jsx)(l.QIJ,{vertical:!0,unit:"one"})]}),!u&&d&&(0,r.jsx)(l.aXT,{textStyle:"bodyW2",color:"textNegative",children:T}),j.map((e,t)=>(0,r.jsxs)("div",{children:[(0,r.jsx)(l.QIJ,{vertical:!0,unit:"three"}),(0,r.jsx)(g,{children:(0,r.jsx)(l.L9D,{checked:f[t],label:e,name:i,onChange:e=>I(e,t)})}),(0,r.jsx)(l.QIJ,{vertical:!0,unit:"three"}),(0,r.jsx)(l.fy7,{type:"item"})]},e)),(0,r.jsx)(l.QIJ,{vertical:!0,unit:"one"})]})};let _=({$valid:e,$touched:t,error:n,label:a,type:i,name:o,isPardotForm:s,isRequired:c,id:u,handleChange:m,value:h})=>{let f=!e&&t,v=e=>{m(u,e.target.value)},g=x(a,c);return(0,r.jsx)(p,{showError:f,errorMessage:P(n).t(),children:(()=>{switch(i){case d.n$.EMAIL:return(0,r.jsx)(l.pt9,{name:o,value:h,placeholder:g,type:"email",fullWidth:!0,onChange:v,brandThemed:!0,isInvalid:f});case d.n$.PHONE:return(0,r.jsx)(l.Nnc,{name:o,value:h,placeholder:g,fullWidth:!0,onChange:v,brandThemed:!0,isInvalid:f});case d.n$.TEXT_AREA:return(0,r.jsx)(l.GP8,{name:o,value:h,placeholder:g,fullWidth:!0,onChange:v,brandThemed:!0,isInvalid:f});case d.n$.ZIP_CODE:return(0,r.jsx)(l.vYI,{name:o,value:h,placeholder:g,fullWidth:!0,onChange:v,brandThemed:!0,isInvalid:f});case d.n$.DATE:return(0,r.jsx)(l.cKX,{name:o,value:h,placeholder:g,fullWidth:!0,onChange:v,format:s?"YYYYMMDD":"Default",brandThemed:!0,isInvalid:f});case d.n$.PLAIN_TEXT:default:return(0,r.jsx)(l.pt9,{name:o,value:h,placeholder:g,type:"text",fullWidth:!0,onChange:v,brandThemed:!0,isInvalid:f})}})()})};var N=e=>(0,r.jsxs)(r.Fragment,{children:[e.header&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.Z,{content:e.header,textColor:e.textColor}),(0,r.jsx)(l.QIJ,{vertical:!0,unit:"one"})]}),(0,r.jsx)(_,{...e}),(0,r.jsx)(l.QIJ,{vertical:!0,unit:"one"})]});let $=({name:e,value:t})=>(0,r.jsx)("input",{name:e,value:t,type:"hidden"}),O=i.ZP.div.withConfig({componentId:"sc-b017474f-0"})(["width:100%;@media screen and (min-width:","px){width:",";}"],l.hY$.m,e=>e.fullWidth?"100%":`calc(50% - ${l.wag.one}px)`),k=i.ZP.div.withConfig({componentId:"sc-b017474f-1"})(["width:100%;"]),U=e=>{switch(e.componentType){case d.re.INPUT_CHECKBOX:return(0,r.jsx)(k,{children:(0,r.jsx)(C,{...e})});case d.re.INPUT_MULTIPLE_CHECKBOX:return(0,r.jsx)(k,{children:(0,r.jsx)(E,{...e})});case d.re.INPUT_TEXT:return(0,r.jsx)(O,{fullWidth:e.numberOfColumns===d.Ee.ONE,children:(0,r.jsx)(N,{...e})});case d.re.INPUT_DROPDOWN:return(0,r.jsx)(O,{fullWidth:e.numberOfColumns===d.Ee.ONE,children:(0,r.jsx)(v,{...e})});case d.re.INPUT_HIDDEN:return(0,r.jsx)($,{...e});default:return null}},D=i.ZP.div.withConfig({componentId:"sc-cded387d-0"})(["display:flex;flex-wrap:wrap;align-items:flex-end;justify-content:space-between;"]),M=({inputs:e,numberOfColumns:t,textColor:n,isPardotForm:i,handleChange:o})=>{let s=(0,a.useMemo)(()=>(function(e){let t=0,n=[[]];return e.forEach(e=>{e.componentType===d.re.INPUT_CHECKBOX||e.componentType===d.re.INPUT_MULTIPLE_CHECKBOX?(n.push([e]),n.push([]),t+=2):"header"in e?(n.push([e]),t+=1):n[t].push(e)}),n.filter(e=>e.length>0)})(e),[e]);return(0,r.jsx)(r.Fragment,{children:s.map((e,c)=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(D,{children:e.map(e=>(0,a.createElement)(U,{...e,numberOfColumns:t,key:e.id,isPardotForm:i,textColor:n,handleChange:o}))}),c!==s.length-1&&(0,r.jsx)(l.QIJ,{vertical:!0,unit:"four"})]}))})};var X=n(18383),Z=n(15854),F=n(44445),W=n(24453);let S=(e,t)=>{let[n,r]=(0,a.useState)(!1);return{trackFormStart:(0,a.useCallback)(()=>{n||(r(!0),W.fQ.send({eventName:"www_btn_click",category:"brandfe_custom_form",action:"start",value:e}))},[e,n]),trackFormSubmit:(0,a.useCallback)(()=>{t?.gaEventOnFormSubmit&&(0,F._k)({event:t?.gaEventOnFormSubmit,eventName:"submit",formId:e}),W.fQ.send({eventName:"www_btn_click",category:"brandfe_custom_form",action:"submit",value:e})},[e,t])}};var J=n(53032);let H=e=>{if(e.componentType!==d.re.INPUT_TEXT)return e;switch(e.type){case d.n$.EMAIL:{let t=(0,J.J)(e.value);return{...e,$valid:t,error:t?null:"invalidEmail"}}case d.n$.PHONE:{let t=(0,J.t)(e.value);return{...e,$valid:t,error:t?null:"invalidPhone"}}default:return{...e,$valid:!0,error:null}}},L=e=>{if(e.componentType===d.re.INPUT_HIDDEN||!e.isRequired)return{...e,$valid:!0,error:null};switch(e.componentType){case d.re.INPUT_MULTIPLE_CHECKBOX:{let t=e.value.some(Boolean);return{...e,$valid:t,error:t?null:"required"}}case d.re.INPUT_DROPDOWN:{let t=""!==e.value;return{...e,$valid:t,error:t?null:"required"}}case d.re.INPUT_TEXT:{let t=""!==e.value.trim();return{...e,$valid:t,error:t?null:"required"}}case d.re.INPUT_CHECKBOX:default:return{...e,$valid:!0,error:null}}},Q=e=>{let t=[];t=e.componentType===d.re.INPUT_TEXT?[L,H]:[L];let n={...e,$valid:!0,error:null};for(let e of t){if(!n.$valid)break;n=e(n)}return n},B=e=>({isSubmitting:!1,inputs:e.map(e=>f(e)).map(e=>Q(e))}),q=(e,t)=>{switch(t.type){case"form/set-submitting":{let{isSubmitting:n}=t.payload;return{...e,isSubmitting:n}}case"input/update-value":{let{inputId:n,value:r}=t.payload,a=e.inputs.map(e=>e.id===n?{...e,value:r,$valid:!0,error:null}:e);return{...e,inputs:a.map(e=>Q(e))}}case"form/submit-attempt":{let t=e.inputs.map(e=>({...e,$touched:!0}));return{...e,inputs:t.map(e=>Q(e))}}case"form/reset-form":{let{initialInputs:n}=t.payload;return{...e,inputs:n.map(e=>f(e)).map(e=>Q(e))}}default:return e}},A=e=>(0,a.useReducer)(q,B(e));var K=n(97850),R=n(57632);function Y(e){switch(e.componentType){case d.re.INPUT_CHECKBOX:return{question:e.label,answer:String(e.value)};case d.re.INPUT_MULTIPLE_CHECKBOX:return e.options.split("\n").map((t,n)=>({question:`${e.header??""} - ${e.subheader??""} - ${t}`,answer:String(e.value[n])}));case d.re.INPUT_TEXT:return{question:`${e.header??""} - ${e.label??""}`,answer:e.value};case d.re.INPUT_DROPDOWN:return{question:`${e.header??""} - ${e.placeholder??""}`,answer:e.value};case d.re.INPUT_HIDDEN:return{question:e.name,answer:e.value};default:return{}}}async function z(e,t){let n={eventName:"www_custom_form_submission",form_id:t,response_id:(0,R.Z)(),timestamp:Date.now()},r=e.flatMap(Y).map((e,t)=>({...e,...n,question_id:String(t)})).map(e=>W.fQ.send(e));if((await Promise.all(r.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))).some(e=>"rejected"===e.status))throw Error("Form not submitted successfully")}let G=(0,X.jl)({name:"Form.useForm"});var V=(e,{formId:t,gaEventOnFormSubmit:n,pardotFormHandler:r,formEntryId:i,successSubmitRedirectLocation:l})=>{let[{inputs:o,isSubmitting:s},c]=A(e),{trackFormStart:u,trackFormSubmit:d}=S(t,{gaEventOnFormSubmit:n}),[h,p]=(0,a.useState)({message:void 0,color:void 0}),{customFormMessages:x}=(0,a.useContext)(m.F),{successMessage:f,submitErrorMessage:v,validationErrorMessage:g}=x;return{handleSubmit:async n=>{if(n.preventDefault(),c({type:"form/submit-attempt"}),o.some(e=>!e.$valid)){let e=o.filter(e=>!e.$valid).map(({value:e,id:t,error:n})=>({value:e,id:t,error:n}));G.debug(`Failed to submit "${t}" form due to validation errors`,e),p({message:g,color:"textNegative"});return}let a=r?"pardot":"lyft";try{c({type:"form/set-submitting",payload:{isSubmitting:!0}});let n="pardot"===a?(0,K.ZP)({inputs:o,pardotFormHandler:r,formType:a,formEntryId:i}):z(o,t);await n,d(),Z.Z.incr("brand.custom-form.submit.success",1,{form_type:a}),c({type:"form/reset-form",payload:{initialInputs:e}}),p({message:f,color:"pardot"===a?"alwaysBlack":"textPositive"}),l&&(window.location.href=l)}catch(e){Z.Z.incr("brand.custom-form.submit.failed",1,{form_type:a}),G.debug(`Form was not submitted: ${e.message}`),p({message:v,color:"textNegative"})}finally{c({type:"form/set-submitting",payload:{isSubmitting:!1}})}},isSubmitting:s,submitStatusMessage:h,inputs:o,handleChange:(0,a.useCallback)((e,t)=>{u(),p({message:void 0,color:void 0}),c({type:"input/update-value",payload:{inputId:e,value:t}})},[c,u])}};let ee=i.ZP.div.withConfig({componentId:"sc-7fe0ac3f-0"})(["display:flex;"]),et=i.ZP.div.withConfig({componentId:"sc-7fe0ac3f-1"})(["display:flex;flex-direction:column;@media screen and (min-width:","px){flex-direction:row;justify-content:space-between;}"],l.hY$.m),en=(0,i.ZP)(u.ZP).withConfig({componentId:"sc-7fe0ac3f-2"})(["display:none;object-fit:contain;object-position:top;height:auto;width:calc(100% - ","px);@media screen and (min-width:","px){display:block;}"],l.wag.two,l.hY$.m),er=i.ZP.img.withConfig({componentId:"sc-7fe0ac3f-3"})(["display:block;object-fit:contain;object-position:top;width:100%;@media screen and (min-width:","px){display:none;}"],l.hY$.m),ea=i.ZP.span.withConfig({componentId:"sc-7fe0ac3f-4"})(["display:block;min-width:calc(224px - 2 * ","px);"],l.wag.three);var ei=({description:e,header:t,legalText:n,useGreyBackground:a,formId:i,inputs:u,buttonText:m,numberOfColumns:h=d.Ee.ONE,image:p,displayName:x,pardotFormHandler:f,backgroundColor:v,textColor:g,interactiveColor:T,successSubmitRedirectLocation:j,gaEventOnFormSubmit:I,id:b})=>{let{inputs:y,handleChange:P,handleSubmit:C,isSubmitting:E,submitStatusMessage:_}=V(u,{formId:i,pardotFormHandler:f,successSubmitRedirectLocation:j,gaEventOnFormSubmit:I,formEntryId:b}),N=p?.src!=null,$=N||h===d.Ee.TWO,O=!N&&h===d.Ee.TWO,k=p?.src?{unit:"four",unitM:"six"}:"header"in u[0]?{unit:"three",unitM:"four"}:{unit:"two",unitM:"three"},U=y.some(e=>e.isRequired);return(0,r.jsx)(c.ZP,{referenceId:i,useGreyBackground:a,trackingAction:"view",trackingCategory:"Form",trackingLabel:x,backgroundColor:v,children:(0,r.jsxs)(s.Z,{colsM:$?10:5,children:[t&&(0,r.jsx)(l.aXT,{tagName:"h2",textStyle:"headlineW1",color:g,children:t}),t&&e&&(0,r.jsx)(l.QIJ,{vertical:!0,unit:"two",unitM:"three"}),e&&(0,r.jsx)(o.Z,{content:e,textColor:g}),(t||e)&&(0,r.jsx)(l.QIJ,{vertical:!0,unit:k.unit,unitM:k.unitM}),(0,r.jsxs)("form",{onSubmit:C,children:[(0,r.jsx)(l.xh0,{interactiveColor:T||"brandInteractive",children:(0,r.jsxs)(et,{children:[p?.src&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(er,{src:p.src,alt:p.alt,loading:"lazy"}),(0,r.jsx)(l.QIJ,{vertical:!0,unit:"three",unitM:"zero"})]}),(0,r.jsxs)(l.qN2,{maxWidth:"compact",noMargins:!0,children:[(0,r.jsx)(l.sbf,{cols:12,colsM:p?.src?7:12,children:(0,r.jsx)(M,{inputs:y,numberOfColumns:O?d.Ee.TWO:d.Ee.ONE,textColor:g,isPardotForm:!!f,handleChange:P})}),p?.src&&(0,r.jsx)(l.sbf,{cols:0,colsM:5,children:(0,r.jsxs)(ee,{children:[(0,r.jsx)(l.QIJ,{horizontal:!0,unit:"zero",unitM:"two"}),(0,r.jsx)(en,{src:p.src,alt:p.alt,loading:"lazy",height:p.height,width:p.width})]})})]})]})}),U&&(0,r.jsx)(l.aXT,{textStyle:"bodyW2",children:w.t()}),(0,r.jsx)(l.QIJ,{vertical:!0,unit:"three"}),(0,r.jsx)(l.uBP,{buttonStyle:"primary",type:"submit",processing:E,"data-tracking-category":"Form primary button","data-tracking-action":"click","data-tracking-label":x,"data-tracking-value":m,children:(0,r.jsx)(ea,{children:m})}),_?.message&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.QIJ,{vertical:!0,unit:"one",unitM:"two"}),(0,r.jsx)(l.aXT,{textStyle:"bodyW2",color:_.color,children:_.message})]})]}),n&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.QIJ,{vertical:!0,unit:"three"}),(0,r.jsx)(o.Z,{content:n,textStyleOverride:"legalW1",textColor:g})]})]})})}},10794:function(e,t,n){var r,a,i,l,o,s;n.d(t,{Ee:function(){return i},n$:function(){return r},re:function(){return a}}),(l=r||(r={})).PLAIN_TEXT="Plain Text",l.EMAIL="Email",l.PHONE="Phone",l.TEXT_AREA="Text Area",l.ZIP_CODE="ZIP Code",l.DATE="Date",(o=a||(a={})).INPUT_TEXT="InputText",o.INPUT_CHECKBOX="InputCheckbox",o.INPUT_MULTIPLE_CHECKBOX="InputMultipleCheckbox",o.INPUT_DROPDOWN="InputDropdown",o.INPUT_HIDDEN="InputHidden",(s=i||(i={})).ONE="1",s.TWO="2"},97960:function(e,t,n){n.d(t,{JB:function(){return i}});var r=n(40975),a=n.n(r);let i=()=>{let e=new(a())().get("lyftbusiness_attribution")||"{}";try{return JSON.parse(e)}catch{return{}}}},53032:function(e,t,n){n.d(t,{J:function(){return r},t:function(){return a}});let r=e=>/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase()),a=e=>/^(\+\d{1,2}\s)?\(?\d{3}\)?[\s.-]\d{3}[\s.-]\d{4}$/.test(String(e))},15741:function(e,t,n){n.d(t,{jc:function(){return i},rJ:function(){return l},un:function(){return r}});let r=e=>{let t=`${e}`.replace(/\D/g,""),n=/^(1|)?(\d{3})(\d{3})(\d{4})$/.exec(t);return n?["(",n[2],") ",n[3],"-",n[4]].join(""):e},a=/[^0-9]/g,i=e=>e.replace(a,""),l=e=>`+${e.countryCode}${e.value}`}}]);